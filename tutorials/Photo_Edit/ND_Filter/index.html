<!--#include virtual="/includes/header_pretitle.inc" -->
<title>GIMP - Creating a Neutral Density Filter</title>
<!--#include virtual="/includes/header_posttitle.inc" -->
<div id="main">
<div class="heading">Creating a Neutral Density Filter</div>

<div class="subtitle">Intention</div>
<p class="images">
  <img src="before.jpg" alt=""/>
  <img src="after.jpg" alt=""/>
</p>
<p>
  In this tutorial I'll show you how to create a "digital" neutral density (ND) filter for your image in The GIMP. Seasoned photographers are familiar with 
  the split-ND and graduated-ND filters. These filters have the effect of reducing the exposure over part of the image being taken in either a graduated or abruptly graduated (split) way.
  <br /><br />
  A typical example of the use of a split ND filter would be if you are taking a shot of a sunset. You align the dark part of the filter with the sky 
  and the clear part with the foreground; the split occurs roughly at the horizon. Used properly, you can meter and expose for the foreground details, 
  while preserving highlight detail in the sky and clouds.
  <br /><br />
  You could of course use a ND filter with a digital camera. This tutorial is for when you don't have that filter, or can't use a filter. 
  This procedure works best with an image that does not have the highlights completely burned out or the shadow detail completely reduced to black; 
  there has to be a reasonable amount of detail to be rescued. It also is mainly suited to images that need exposure adjustment in a graduated linear or split linear fashion 
  (e.g. sky meets horizon). If the scene you want to shoot has too much dynamic range for your camera, or requires a complex (i.e. non-linear) density mask, 
  you're better off using the exposure blending technique or the contrast masking technique.
  <br /><br />
  The basic technique is to create a layer above the image that contains a duplicate of the image. Then you can tweak the levels or curves, dodging, burning, etc. 
  to bring out the highlights or shadows in that layer. Finally, we apply a layer mask to the duplicate layer and insert a gradient black-white or white-black fill. 
  The original image remains blissfully unchanged on its layer.
  <br /><br />
  Giving credit where credit is due: I did not come up with this method. I adapted it for The GIMP from a Photoshop tutorial on the 
  <a href="http://www.luminous-landscape.com/">luminous-landscape.com web site</a> (great photography web site BTW; I recommend it).
</p>

<div class="subtitle">The Procedure</div>
<p class="images">
  <img src="original.jpg" alt=""/>
</p>
<p>
  Here is the original example image, loaded into The GIMP.
  <br />
  It is a nice image, but a little too dark for my taste in the foreground. I want to lighten everything reaching back to the base of the cliffs, 
  but leave the wonderful cliff and sky unchanged.
</p>

<div class="subtitle">Step 1</div>
<p class="images">
  <img src="layers-dup.jpg" alt=""/>
</p>
<p>
  Open the Layers dialog. Right-click on the Background layer and select Duplicate (there is also a button for this in the bottom button bar of the 
  Layers dialog (<img src="layerdup.jpg" alt=""/>).
</p>

<div class="subtitle">Step 2</div>
<p class="images">
  <img src="editlayerattr.jpg" alt=""/>
  <img src="layers1.jpg" alt=""/>
</p>
<p>
  Now double-click on the duplicate layer and rename the new layer "ND Filter". This step is not strictly necessary, 
  but it is helpful to prevent confusion about what is on each layer, especially if you add some additional layers for other editing purposes, 
  or more importantly, if you save the file with layers and open it six months later.
</p>

<div class="subtitle">Step 3</div>
<p class="images">
  <img src="levels.jpg" alt=""/>
  <img src="image2.jpg" alt=""/>
</p>
<p>
  In the Layers dialog, select the ND Filter layer. Go to the image window and perform any editing you want to enhance highlight or shadow detail. 
  Usually this means using Levels or Curves (I won't go into that here; there are lots of tutorials on the web about that).
  <br /><br />
  You can use selection and masking if you want, but generally it's not necessary. Don't worry about the "good" part of the image; let it go too dark or too light. 
  Concentrate on the area that needs improvement.
  <br />
  In this case, I've used levels to lighten the whole image: the dark foreground is now about right.
</p>

<div class="subtitle">Step 4</div>
<p class="images">
  <img src="addmaskoptions.jpg" alt=""/>
  <img src="layers2.jpg" alt=""/>
</p>
<p>
   In the Layers dialog, right-click on the ND Filter layer and select "Add Layer Mask". 
   In the Add Mask Options dialog, select white (Full Opacity) and click OK.
</p>

<div class="subtitle">Step 5</div>
<p class="images">
  <img src="gimp-toolbox-start.jpg" alt=""/>
  <img src="gimp-fg-bg-switched.jpg" alt=""/>
</p>
<p>
  Go up to the main GIMP toolbox and select white for the foreground and black for the background colors. 
  The GIMP normally starts with black as the default foreground color and white as the default background; 
  you can switch them by clicking the little switching arrow.
</p>

<div class="subtitle">Step 6</div>
<p class="images">
  <img src="layers3.jpg" alt=""/>
  <img src="image3.jpg" alt=""/>
</p>
<p>
  Click the "eye" next to the Background layer in the Layers dialog off; this will help you see the split of the gradient you are going to add.
  <br />
  Now select the gradient fill tool (<img src="gradientfillbtn.jpg" alt=""/>). Go back to the image and draw a line in the angle and direction 
  that you want the graduation from dark to light (on the filter, not the image). See the tips below for hints.
  <br /><br />
  If you didn't get the split at the right place just draw another line; the new gradient fill will replace the old. The gradient fill effects 
  the transparency of the layer mask: white is opaque, black is transparent, and anything in between is some degree of translucent. 
  You want the ND Filter layer to become transparent just at the boundary of the "good" part of the original image (in this case, the cliffs and sky).
</p>

<div class="subtitle">Step 7</div>
<p class="images">
  <img src="original.jpg" alt=""/>
  <img src="image4.jpg" alt=""/>
</p>
<p>
  Click the "eye" next to the Background layer in the Layers dialog back on. Behold: your image with the filter applied.
  <br />
  Click the "eye" next to the ND Filter layer in the Layers dialog on and off to quickly view the effects with and without the filter.
  <br />
  The one on the left is the original. The right image is with the filter.
</p>

<div class="subtitle">Step 8</div>
<p class="images">
  <img src="layers5.jpg" alt=""/>
</p>
<p>
  You'll have to flatten the image if you are saving it to a typical image format like TIFF or JPEG (but not if you are saving to the GIMP's native XCF format). 
  To do that, right-click on the image and select <span class="filter">Layers/Flatten Image</span>.
</p>

<div class="subtitle">Tips</div>
<ul>
  <li>The length of the line that you draw with the gradient fill tool determines how "graduated" the ND filter will be. 
  If you want a "split" filter, draw a short line; if you want a smooth, graduated filter, draw a long line. You will need to experiment to get a feel for it.</li>
  <li>Double-click on the gradient fill tool to see the options available when you fill your layer mask. In particular, you may want to experiment with 
  the Opacity and/or Mode parameters of the fill. You can also choose gradient fills other than Linear to get odd ND filter patterns (e.g. Radial, etc.).</li>
  <li>You can change the transparency of the ND Filter layer using the Opacity slider in the Layers dialog. This reduces the effect of the filter.</li>
  <li>You can experiment with the layer mode of the ND Filter layer by choosing modes other than Normal (e.g. Multiply), in the "Mode" drop-down box in the Layers dialog.</li>
  <li>I find this technique works generally best with rescuing shadows, rather than highlights. This is generally because it seems to be easier to burn out the highlights 
  either in taking the image, or scanning it. There is an old adage about transparency film that confirms this: "expose for the highlights". Of course if you are using a real 
  split ND filter you'd expose for the shadow detail and use the dark part of the filter to capture the highlights.</li>
</ul>

<div class="subtitle">Other Examples</div>
<p class="images">
  <img src="Alaska-161-before-257x384.jpg" alt=""/>
  <img src="Alaska-161-after-257x384.jpg" alt=""/>
</p>
<p>
  Original image (left image).
  <br />
  With a nd filter as described above (right image).
</p>

<p class="images">
  <img src="R20020527-004-before-288x384.jpg" alt=""/>
  <img src="R20020527-004-after-288x384.jpg" alt=""/>
</p>
<p>
  Original image (left image).
  <br />
  With digital nd filter (right image).
</p>

<p class="images">
  <img src="R20020630-008-before-384x288.jpg" alt=""/>
  <img src="R20020630-008-after-384x288.jpg" alt=""/>
</p>
<p>
  Original image (left image).
  <br />
  With a 2-directional digital nd filter (&amp; perspective correction) (right image).
</p>

<p>
  The original tutorial can be found <a href="http://cs.uhh.hawaii.edu/~jeschke/photography/articles/gimp/NDFilter/">here</a>.
</p>

</div>
<!--#include virtual="/includes/tutnavbar.inc" -->
    <div>
      <span id="footerleft">
        Tutorial &copy; 2002 <a href="mailto:jeschke@mano.uhh.hawaii.edu">Eric Jeschke</a>
      </span>
      <span id="footerright">
        <a href="mailto:webmaster@gimp.org">webmaster@gimp.org</a>
      </span>
    </div>

  </body>
</html>
